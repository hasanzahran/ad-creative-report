(this["webpackJsonpad-creative-report"]=this["webpackJsonpad-creative-report"]||[]).push([[0],{14:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(8),s=c.n(r),i=(c(14),c(9)),l=c(4),d=c.n(l),o=c(7),u=c(2),h="https://platform.pearmill.com/tests",j=function(e){var t=[];for(var c in e){var n={width:null,height:null,src:null},a=e[c].iframe_preview.match(/src=([^\s]*)\s/)[1],r=e[c].iframe_preview.match(/width=([^\s]*)\s/)[1],s=e[c].iframe_preview.match(/height=([^\s]*)\s/)[1],i=a.substring(1,a.length-1);n.width=r.substring(1,r.length-1),n.height=s.substring(1,s.length-1),n.src=i.replace("amp;",""),t.push(n)}return t},O=c(0),b=function(e){var t=e.iframeData;return Object(O.jsx)("div",{className:"iframe-container flex",children:(null===t||void 0===t?void 0:t.length)>0&&(null===t||void 0===t?void 0:t.map((function(e,t){return Object(O.jsx)("div",{className:"iframe-card",children:Object(O.jsx)("iframe",{title:"iframe_".concat(t),width:e.width,height:e.height,src:e.src,frameBorder:"0",style:{left:e.width+"px"}})},t+e.height)})))})},f=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(u.a)(r,2),l=s[0],f=s[1],m=Object(n.useState)([]),v=Object(u.a)(m,2),x=v[0],p=v[1],_=Object(n.useState)("FACEBOOK_STORY_MOBILE"),g=Object(u.a)(_,2),N=g[0],E=g[1],w=Object(n.useState)([]),D=Object(u.a)(w,2),S=D[0],A=D[1],k=function(){var e=Object(o.a)(d.a.mark((function e(){var t,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,fetch("".concat(h,"/creatives"));case 4:return t=e.sent,e.next=7,t.json();case 7:return c=e.sent,e.next=10,c.data;case 10:n=e.sent,a(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){k().then((function(){return f(!1)}))}),[]);var T=function(){var e=Object(o.a)(d.a.mark((function e(){var t,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(h,"/iframes?ad_ids=").concat(x.join(","),"&format=").concat(N));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,n=j(c.data),A(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"flex btns",children:[Object(O.jsx)("button",{disabled:!x.length,className:"warning",onClick:function(){A([]),p([])},children:"Clear data"}),0===S.length&&Object(O.jsxs)("div",{className:"flex options-view",children:[Object(O.jsx)("div",{className:"".concat("FACEBOOK_STORY_MOBILE"===N?"active":null),onClick:function(){return E("FACEBOOK_STORY_MOBILE")},children:"Story"}),Object(O.jsx)("div",{className:"".concat("MOBILE_FEED_STANDARD"===N?"active":null),onClick:function(){return E("MOBILE_FEED_STANDARD")},children:"Mobile"}),Object(O.jsx)("div",{className:"".concat("DESKTOP_FEED_STANDARD"===N?"active":null),onClick:function(){return E("DESKTOP_FEED_STANDARD")},children:"Desktop"})]}),Object(O.jsx)("button",{disabled:!x.length,className:"success",onClick:T,children:"Show Adds (".concat(x.length,")")})]}),!l&&Object(O.jsx)("div",{className:"cards flex",children:0===S.length&&c.length&&(null===c||void 0===c?void 0:c.map((function(e,t){return Object(O.jsx)("div",{className:"cards__item flex",children:Object(O.jsxs)("div",{className:"card flex",id:"ad_".concat(e.ad_id),children:[Object(O.jsx)("div",{className:"card__image card__image--fence",style:{backgroundImage:"url(".concat(e.thumbnail,")")}}),Object(O.jsxs)("div",{className:"card__content flex",children:[Object(O.jsx)("div",{className:"card__title",children:e.ad_name}),Object(O.jsxs)("p",{className:"card__text",children:["Total spend: $",e.spend]}),Object(O.jsx)("button",{disabled:-1!==x.indexOf(e.ad_id),onClick:function(){return t=e.ad_id,void(x.includes(t)?alert("This item is in the list"):p((function(e){return[].concat(Object(i.a)(e),[t])})));var t},className:"primary",children:"".concat(-1===x.indexOf(e.ad_id)?"Add":"Added")})]})]})},"ad_".concat(e.ad_id+t))})))}),Object(O.jsx)(b,{iframeData:S})]})},m=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(f,{})})};s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(m,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.a8bb22f6.chunk.js.map